# Phase 2 ä¸€æœŸå®žæ–½è®¡åˆ’ï¼šMVP ç­–ç•¥

> ðŸ“… è®¡åˆ’æ—¶é—´ï¼š2å‘¨  
> ðŸŽ¯ ç›®æ ‡ï¼šå•å› å­åŠ¨é‡ç­–ç•¥ + èžºçº¹é’¢ + 5åˆ†é’Ÿçº¿ + æ—¥å†…å¹³ä»“  
> âœ… éªŒæ”¶æ ‡å‡†ï¼šèƒ½å®Œæ•´å›žæµ‹å¹¶è¾“å‡ºç»©æ•ˆæŠ¥å‘Š

---

## æ€»ä½“æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MVP ç­–ç•¥æž¶æž„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [æ•°æ®å±‚]          [å› å­å±‚]         [ä¿¡å·å±‚]      [æ‰§è¡Œå±‚]   â”‚
â”‚                                                             â”‚
â”‚  5åˆ†é’ŸKçº¿  â”€â”€â†’  åŠ¨é‡å› å­è®¡ç®—  â”€â”€â†’  å¤šç©ºä¿¡å·  â”€â”€â†’  ä»“ä½ç®¡ç†  â”‚
â”‚      â”‚              â”‚                â”‚              â”‚       â”‚
â”‚      â–¼              â–¼                â–¼              â–¼       â”‚
â”‚  æ•°æ®æ¸…æ´—       å› å­æ ‡å‡†åŒ–        ä¿¡å·è¿‡æ»¤      é£ŽæŽ§æ£€æŸ¥    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä»»åŠ¡æ‹†è§£

### Week 1ï¼šæ•°æ® + å› å­

| # | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | éªŒè¯æ–¹å¼ |
|---|------|----------|----------|
| 1.1 | èŽ·å–èžºçº¹é’¢5åˆ†é’ŸåŽ†å²æ•°æ® | 30min | æ•°æ®é‡ > 10ä¸‡æ¡ |
| 1.2 | 5åˆ†é’Ÿæ•°æ®æ¸…æ´—æ¨¡å— | 1h | æ— å¼‚å¸¸å€¼ï¼ŒOHLCæ­£ç¡® |
| 1.3 | åŠ¨é‡å› å­è®¡ç®—ï¼ˆROC/RSI/MACDï¼‰ | 2h | å› å­å€¼èŒƒå›´åˆç† |
| 1.4 | å› å­æ ‡å‡†åŒ–ï¼ˆZ-scoreï¼‰ | 30min | å‡å€¼â‰ˆ0ï¼Œæ ‡å‡†å·®â‰ˆ1 |
| 1.5 | å› å­å¯è§†åŒ–ï¼ˆåˆ†å¸ƒå›¾ï¼‰ | 30min | èƒ½ç”»å‡ºå› å­åˆ†å¸ƒ |
| 1.6 | å› å­ä¸Žæœªæ¥æ”¶ç›Šç›¸å…³æ€§åˆ†æž | 1h | ICå€¼è®¡ç®—æ­£ç¡® |

### Week 2ï¼šä¿¡å· + å›žæµ‹

| # | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | éªŒè¯æ–¹å¼ |
|---|------|----------|----------|
| 2.1 | ä¿¡å·ç”Ÿæˆé€»è¾‘ï¼ˆå› å­é˜ˆå€¼è§¦å‘ï¼‰ | 1h | ä¿¡å·æ•°é‡åˆç† |
| 2.2 | æ—¥å†…å¹³ä»“è§„åˆ™ï¼ˆ14:55å¼ºå¹³ï¼‰ | 30min | æ— éš”å¤œæŒä»“ |
| 2.3 | ä»“ä½ç®¡ç†ï¼ˆå›ºå®šä»“ä½/ATRä»“ä½ï¼‰ | 1h | ä»“ä½è®¡ç®—æ­£ç¡® |
| 2.4 | å›žæµ‹å¼•æ“Žæ ¸å¿ƒï¼ˆäº‹ä»¶é©±åŠ¨ï¼‰ | 3h | èƒ½è·‘é€šå®Œæ•´å›žæµ‹ |
| 2.5 | æ‰‹ç»­è´¹ + æ»‘ç‚¹æ¨¡æ‹Ÿ | 30min | æˆæœ¬è®¡ç®—å‡†ç¡® |
| 2.6 | ç»©æ•ˆæŒ‡æ ‡è®¡ç®—ï¼ˆå¤æ™®/å›žæ’¤/èƒœçŽ‡ï¼‰ | 1h | æŒ‡æ ‡å…¬å¼æ­£ç¡® |
| 2.7 | å›žæµ‹æŠ¥å‘Šç”Ÿæˆï¼ˆå›¾è¡¨+æ•°æ®ï¼‰ | 1h | è¾“å‡ºå®Œæ•´æŠ¥å‘Š |

---

## è¯¦ç»†è®¾è®¡

### 1. æ•°æ®ç»“æž„

```python
# 5åˆ†é’ŸKçº¿æ•°æ®
MinuteBar:
    datetime: æ—¶é—´æˆ³
    open: å¼€ç›˜ä»·
    high: æœ€é«˜ä»·
    low: æœ€ä½Žä»·
    close: æ”¶ç›˜ä»·
    volume: æˆäº¤é‡
    open_interest: æŒä»“é‡ï¼ˆå¯é€‰ï¼‰
```

### 2. åŠ¨é‡å› å­å®šä¹‰

| å› å­å | è®¡ç®—å…¬å¼ | å‚æ•° |
|--------|----------|------|
| ROC | (close - close[n]) / close[n] | n=20 (100åˆ†é’Ÿ) |
| RSI | 100 - 100/(1 + avg_gain/avg_loss) | period=14 |
| MACD | EMA12 - EMA26 | 12, 26, 9 |
| åŠ¨é‡å¾—åˆ† | 0.4*ROC_z + 0.3*RSI_z + 0.3*MACD_z | åŠ æƒå¹³å‡ |

### 3. ä¿¡å·è§„åˆ™

```python
# åšå¤šä¿¡å·
if momentum_score > 1.5 and time < "14:30":
    signal = LONG
    
# åšç©ºä¿¡å·  
if momentum_score < -1.5 and time < "14:30":
    signal = SHORT

# å¹³ä»“ä¿¡å·
if time >= "14:55" or abs(momentum_score) < 0.5:
    signal = CLOSE
```

### 4. ä»“ä½ç®¡ç†

```python
# å›ºå®šä»“ä½ï¼ˆMVPç®€åŒ–ç‰ˆï¼‰
position_size = account_value * 0.1 / price

# ATRä»“ä½ï¼ˆåŽç»­ä¼˜åŒ–ï¼‰
atr = 20æ—¥ATR
position_size = account_value * 0.02 / atr
```

### 5. é£ŽæŽ§è§„åˆ™

| è§„åˆ™ | é˜ˆå€¼ | åŠ¨ä½œ |
|------|------|------|
| å•ç¬”æ­¢æŸ | -2% | å¼ºåˆ¶å¹³ä»“ |
| æ—¥å†…æœ€å¤§äºæŸ | -5% | åœæ­¢äº¤æ˜“ |
| 14:55 å¼ºå¹³ | å›ºå®šæ—¶é—´ | å…¨éƒ¨å¹³ä»“ |

---

## æ–‡ä»¶ç»“æž„

```
src/
â”œâ”€â”€ strategy/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py           # ç­–ç•¥åŸºç±»
â”‚   â”œâ”€â”€ momentum.py       # åŠ¨é‡ç­–ç•¥
â”‚   â””â”€â”€ factors/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ momentum.py   # åŠ¨é‡å› å­
â”‚       â””â”€â”€ utils.py      # å› å­å·¥å…·
â”œâ”€â”€ backtest/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ engine.py         # å›žæµ‹å¼•æ“Ž
â”‚   â”œâ”€â”€ portfolio.py      # ç»„åˆç®¡ç†
â”‚   â””â”€â”€ metrics.py        # ç»©æ•ˆæŒ‡æ ‡
â””â”€â”€ risk/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ manager.py        # é£ŽæŽ§ç®¡ç†
```

---

## éªŒæ”¶æ ‡å‡†

### MVP å®Œæˆå®šä¹‰

- [ ] èƒ½èŽ·å–å¹¶æ¸…æ´—èžºçº¹é’¢5åˆ†é’Ÿæ•°æ®ï¼ˆè‡³å°‘1å¹´ï¼‰
- [ ] èƒ½è®¡ç®—åŠ¨é‡å› å­å¹¶å¯è§†åŒ–
- [ ] èƒ½ç”Ÿæˆäº¤æ˜“ä¿¡å·ï¼ˆæ¯å¤© 5-20 ä¸ªï¼‰
- [ ] èƒ½å®Œæ•´å›žæµ‹å¹¶è¾“å‡ºä»¥ä¸‹æŒ‡æ ‡ï¼š
  - å¹´åŒ–æ”¶ç›ŠçŽ‡
  - æœ€å¤§å›žæ’¤
  - å¤æ™®æ¯”çŽ‡
  - èƒœçŽ‡
  - ç›ˆäºæ¯”
- [ ] å›žæµ‹æŠ¥å‘Šå«å‡€å€¼æ›²çº¿å›¾

---

## ä¸‹ä¸€æ­¥

ä¸€æœŸå®ŒæˆåŽï¼Œè¿›å…¥äºŒæœŸï¼š
- æ‰©å±•åˆ° 5 ä¸ªå› å­
- æ‰©å±•åˆ° 10 ä¸ªå“ç§
- å¼•å…¥ XGBoost é¢„æµ‹
